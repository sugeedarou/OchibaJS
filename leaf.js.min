function LeafJS(e){this.elem=e,this.init=function(t){if(this.leafs=e.getChildren(),"undefined"!=typeof t)for(var n=0;n<this.leafs.length;n++)htmlString.display="inline-block"},this.initLetters=function(t){t=t?"display: inline-block":"";for(var n=e.innerHTML.split(""),i="",a=0;a<n.length;a++){var s=n[a],r=' class="leaf"';" "==s&&(s="&nbsp;",r=""),i+="<span "+r+' style="'+t+'">'+s+"</span>"}this.elem.innerHTML=i,this.leafs=e.getElementsByClassName("leaf")},this.resetLeafs=function(){for(var e=0;e<this.leafs.length;e++)LJSL.addPrefixedStyle(this.leafs[e],"animation","none")},this.getAnimatedLeafString=function(e,t,n){return n*=.001,LJSL.getPrefixedStyle("animation",LJSL.getAnimationString(new LJSL.Animation(t.speed,t.timing,t.delay+n||n,t.name)))+LJSL.getPrefixedStyle("animation-fill-mode","forwards")},this.animateLeafs=function(t){var n="undefined"!=typeof t.delay?t.delay:0;switch(t.animationType){case"all":for(var i=0;i<this.leafs.length;i++)this.leafs[i].style.cssText=this.getAnimatedLeafString(i,t.animation,n);break;case"linear":for(var i=0;i<this.leafs.length;i++){var a=LJSL.getDelayForTiming(t.timing,i/this.leafs.length,t.speed);this.leafs[i].style.cssText=this.getAnimatedLeafString(i,t.animation,n+a)}break;case"linear-reverse":for(var s=t.speed/this.leafs.length,i=this.leafs.length;i>=0;i--)this.leafs[i].style.cssText=this.getAnimatedLeafString(i,t.animation,n+LJSL.getDelayForTiming(t.timing,(this.leafs.length-i)/this.leafs.length,t.speed));break;case"mid-out":var s=Math.floor(t.speed/(.5*this.leafs.length)),r=.5*this.leafs.length;if(r%1==0)var f=r-1,l=r;else var f=r-.5,l=r-.5;for(var i=l;i<this.leafs.length;i++)this.getAnimatedLeafString(i,t.animation,LJSL.getDelayForTiming(t.timing,(i-l)/l,t.speed));for(var i=f;i>=0;i--)this.getAnimatedLeafString(i,t.animation,LJSL.getDelayForTiming(t.timing,(f-i)/f,t.speed));break;case"out-mid":var s=Math.floor(t.speed/(.5*this.leafs.length)),r=.5*this.leafs.length;if(r%1==0)var f=r-1,l=r;else var f=r-.5,l=r-.5;for(var i=0;l>=i;i++)this.leafs[i].style.cssText=this.getAnimatedLeafString(i,t.animation,n+LJSL.getDelayForTiming(t.timing,i/l,s));for(var i=this.leafs.length-1;i>=f;i--)this.leafs[i].style.cssText=this.getAnimatedLeafString(i,t.animation,n+LJSL.getDelayForTiming(t.timing,(this.leafs.length-1-i)/f,s));break;case"random":var o=LJSL.intRange(0,this.leafs.length-1);o.shuffle();for(var i=0;i<this.leafs.length;i++){var a=LJSL.getDelayForTiming(t.timing,i/this.leafs.length,t.speed);this.leafs[o[i]].style.cssText=this.getAnimatedLeafString(o[i],t.animation,n+a)}}"undefined"!=typeof t.callback&&window.setTimeout(t.callback,t.speed,e)},this.getAnimationAsHTMLString=function(){return this.elem.innerHTML}}Element.prototype.getChildren=function(){for(var e=this.childNodes,t=[],n=e.length;n--;)1==e[n].nodeType&&t.unshift(e[n]);return t},Element.prototype.remove=function(){this.parentNode.removeChild(this)},Array.prototype.shuffle=function(){this.sort(function(){return.5-Math.random()})},LJSL={},LJSL.prefixes=["","-webkit-","-moz-","-o-"],LJSL.getPrefixedStyle=function(e,t){for(var n="",i=0;i<LJSL.prefixes.length;i++)n+=";"+LJSL.prefixes[i]+e+":"+t;return n},LJSL.addPrefixedStyle=function(e,t,n){for(var i=0;i<LJSL.prefixes.length;i++)e.style[LJSL.prefixes[i]+t]=n},LJSL.addPrefixedEvent=function(e,t,n){for(var i=0;i<LJSL.prefixes.length;i++)e.addEventListener(LJSL.prefixes[i]+prop,n)},LJSL.Animation=function(e,t,n,i){this.speed=e,this.timing=t,this.delay=n,this.name=i},LJSL.getAnimationString=function(e){return e.speed+"s "+(e.delay||0)+"s "+e.timing+" "+e.name},LJSL.timingFunctions={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return.5>e?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return.5>e?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return.5>e?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return.5>e?16*e*e*e*e*e:1+16*--e*e*e*e*e}},LJSL.getDelayForTiming=function(e,t,n){return n-LJSL.timingFunctions[e](1-t)*n},LJSL.intRange=function(e,t){for(var n=[],i=e;t>=i;i++)n.push(i);return n};
